//
// cfg file to run 
// L1 muon chain + L1 calorimeter chain + L1 Global Trigger emulators + L1 GT Analyzer 
// on GEN + SIM + DIGI events 
//

process RunGtAnalyzerDigi = {

    // input file: GEN + SIM + DIGI 
    source = PoolSource {
        untracked vstring fileNames = {
        'rfio:/castor/cern.ch/cms/store/RelVal/2006/12/16/RelVal120QCD_pt800_1000/0000/D01A040F-518D-DB11-9E6C-001731AF6849.root'
        }
        
        untracked int32  maxEvents = 10
    }   

    // load and configure modules

    //   muon + calo + Global Trigger 
	include "L1Trigger/GlobalTrigger/data/L1MuCaloGtEmul.cff"

    // this module
	include "L1Trigger/GlobalTriggerAnalyzer/data/L1GtAnalyz.cfi"
		
    // module list
    path p = {L1MuCaloGtEmul,L1GtAnalyz }

    // uncomment / comment messages with DEBUG mode to run in DEBUG mode
    service = MessageLogger {

        untracked vstring destinations =  {"L1GtAnalyzer_RelVal120QCD_pt800_1000"}
        untracked PSet L1GtAnalyzer_RelVal120QCD_pt800_1000 = { 
            untracked string threshold = "DEBUG"                  // DEBUG 
            untracked PSet DEBUG = { untracked int32 limit = -1}  // DEBUG, all messages  
//            untracked PSet DEBUG = { untracked int32 limit = 10}  // DEBUG, max 10 messages  
          untracked PSet INFO = { untracked int32 limit = -1}    
      }
      untracked vstring debugModules = { "L1GtAnalyz"}          // DEBUG mode 
      
    }

    // keep only GMT, GCT and GT output records
        
    module outputL1GtAnalyzer = PoolOutputModule { 
        untracked vstring outputCommands = {
            "drop *",
            "keep *_gmt_*_*",
            "keep *_L1GctEmuDigis_*_*",
            "keep *_L1GtEmul_*_*"
        }

        untracked string fileName = "L1GtAnalyzer_RelVal120QCD_pt800_1000.root" 
    }
    
    endpath outpath = { outputL1GtAnalyzer }
    
        
}