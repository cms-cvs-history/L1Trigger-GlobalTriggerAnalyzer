//
// cfg file to run 
// L1 muon chain + L1 calorimeter chain + L1 Global Trigger emulators + L1 GT trigger report 
// on GEN + SIM + DIGI events 
//

process RunL1TrigReport = {

    // input file: GEN + SIM + DIGI 
    source = PoolSource {
        untracked vstring fileNames = {
        "/store/RelVal/2007/9/4/RelVal-RelVal145QCD_pt80_120-1188895669/0002/58299D7E-E85A-DC11-9677-00304855D4C8.root"
        }
    }

    //replace PoolSource.fileNames = {
    //    "/store/RelVal/2007/9/4/RelVal-RelVal145Z-MM-1188895669/0002/6A37C29B-D65A-DC11-88A0-001617E30D06.root"
    //}

    untracked PSet maxEvents = { untracked int32 input = 10 }

    // load and configure modules

    // Geometry - to be revised
    include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"
    include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi"
  
//    // TO RUN IN 1_6_0 - 1_7_0_pre4 >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
//    
//    // L1 GT EventSetup
//    include "L1TriggerConfig/L1GtConfigProducers/data/L1GtConfig.cff"
//
//    // uprescaled menu - change prescale factors to 1 (except MinBias and ZeroBias)
//    //include "L1TriggerConfig/L1GtConfigProducers/data/L1GtFactorsUnprescale.cff"
//        
//    // FOR 1_7_0_pre3 - pre4 ONLY >>>
//    include "L1Trigger/Configuration/data/L1DummyConfig.cff"
//    // END <<<
//    
//    // calorimeter emulator chain
//    include "L1Trigger/Configuration/data/L1CaloEmulator.cff"
//
//    // muon emulator chain 
//    //   depends on calorimeter chain
//    include "L1Trigger/Configuration/data/L1MuonEmulator.cff"
//
//    // Global Trigger emulator
//    //   depends on calorimeter chain and muon chain
//    include "L1Trigger/GlobalTrigger/data/gtDigis.cfi"
//    
//    // this module
//    include "L1Trigger/GlobalTriggerAnalyzer/data/l1GtTrigReport.cfi"
//
//    // module list
//    path p = { L1CaloEmulator, L1MuonEmulator, gtDigis, l1GtTrigReport }
//    
//    // END 1_6_0 PART - 1_7_0_pre4 <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
    
    


    // TO RUN IN 1_7_0 >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
    
    // uprescaled menu - change prescale factors to 1 (except MinBias and ZeroBias)
    //include "L1TriggerConfig/L1GtConfigProducers/data/L1GtFactorsUnprescale.cff"
        
    // L1 emulator chain
    include "L1Trigger/Configuration/data/L1Emulator.cff"
    include "L1Trigger/Configuration/data/L1DummyConfig.cff"

    // this module
    include "L1Trigger/GlobalTriggerAnalyzer/data/l1GtTrigReport.cfi"
    replace l1GtTrigReport.PrintVerbosity = 1
    //replace l1GtTrigReport.PrintOutput = 2

    // module list
    path p = { L1Emulator, l1GtTrigReport }

    // END 1_7_0 PART <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<


    // Message Logger
    include "FWCore/MessageLogger/data/MessageLogger.cfi"
    
    //replace MessageLogger.debugModules = { "l1GtTrigReport" }
    
    replace MessageLogger.destinations = {"L1GtTrigReport_RelVal150QCD_pt80_120"}
    //replace MessageLogger.destinations = {"L1GtTrigReport_RelVal145Z-MM"}
        
}