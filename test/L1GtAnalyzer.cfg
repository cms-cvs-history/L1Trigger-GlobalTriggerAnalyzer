//
// cfg file to run on GMT + GCT + GT output file
//
    
process TestGtAnalyzer = {

    // source file: GT produced file, with GMT and GCT records included 
    source = PoolSource {
        untracked vstring fileNames = {
            'file:/afs/cern.ch/user/g/ghete/scratch0/CmsswTestFiles/testGt_Analyzer_source.root'
        }
    }   

    untracked PSet maxEvents = { untracked int32 input = 10 }

    // load and configure modules
    include "L1TriggerConfig/L1GtConfigProducers/data/L1GtConfig.cff"
    include "L1TriggerConfig/L1GtConfigProducers/data/Luminosity/lumi1x1032/L1Menu2007.cff"
    //include "L1TriggerConfig/L1GtConfigProducers/data/Luminosity/lumi1030/L1Menu2008_2E30.cff"
    //include "L1TriggerConfig/L1GtConfigProducers/data/Luminosity/lumi1031/L1Menu2008_2E31.cff"

    include "L1Trigger/GlobalTriggerAnalyzer/data/l1GtAnalyz.cfi"
    //replace l1GtAnalyz.DaqGtInputTag = l1GtUnpack 
    //replace l1GtAnalyz.AlgorithmName = "L1_Mu3_Jet15" 
    //replace l1GtAnalyz.ConditionName = "SingleMu3_3" 
    replace l1GtAnalyz.AlgorithmName = "L1_SingleEG20"
    replace l1GtAnalyz.ConditionName = "SingleNoIsoEG20"
    
    // module list
    path p = { l1GtAnalyz }

    // uncomment / comment messages with DEBUG mode to run in DEBUG mode
    service = MessageLogger {

      untracked vstring destinations =  {"testGt_Analyzer"}
      untracked PSet testGt_Analyzer = { 
          untracked string threshold = "DEBUG"                  // DEBUG mode 
          untracked PSet DEBUG = { untracked int32 limit = -1}  // DEBUG mode, all messages  
          //untracked PSet DEBUG = { untracked int32 limit = 10}  // DEBUG mode, max 10 messages  
          untracked PSet INFO = { untracked int32 limit = -1}    
      }
      untracked vstring debugModules = { "l1GtAnalyz"}          // DEBUG mode 
      
    }
        
    module outputL1GtAnalyz = PoolOutputModule { 
        untracked string fileName = "testGt_Analyzer_output.root" 
    }
    
    endpath outpath = { outputL1GtAnalyz }
    
        
}