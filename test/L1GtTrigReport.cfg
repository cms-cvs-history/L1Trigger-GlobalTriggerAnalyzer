//
// cfg file to run on GMT + GCT + GT output file
//

process RunL1GtTrigReport = {

    // source file: GT produced file, with GMT and GCT records included 
    source = PoolSource {
        untracked vstring fileNames = {
            'file:/afs/cern.ch/user/g/ghete/scratch0/CmsswTestFiles/testGt_L1GtTrigReport_source.root'
        }
    }   

    untracked PSet maxEvents = { untracked int32 input = 200 }

    // load and configure modules

    // L1 GT EventSetup
    include "L1TriggerConfig/L1GtConfigProducers/data/L1GtConfig.cff"
    replace L1GtPrescaleFactorsRcdSource.iovIsRunNotTime = false
    replace L1GtTriggerMaskRcdSource.iovIsRunNotTime = false
    replace L1GtParametersRcdSource.iovIsRunNotTime = false
    replace L1GtBoardMapsRcdSource.iovIsRunNotTime = false

    // uprescaled menu - change prescale factors to 1 (except MinBias and ZeroBias)
    //
    // WARNING: use always the same prescale factors and trigger mask for the emulator
    //          and this module! Safer is to run emulator and report in one step
    //          L1GtTrigReportDigi.cfg
    // 
    //include "L1TriggerConfig/L1GtConfigProducers/data/L1GtFactorsUnprescale.cff"
    
    // this module
	include "L1Trigger/GlobalTriggerAnalyzer/data/l1GtTrigReport.cfi"
    replace l1GtTrigReport.PrintVerbosity = 1
    //replace l1GtTrigReport.PrintOutput = 2
        
    // module list
    path p = { l1GtTrigReport }

    // Message Logger
    include "FWCore/MessageLogger/data/MessageLogger.cfi"
    //replace MessageLogger.debugModules = { "l1GtTrigReport" }
    replace MessageLogger.destinations = {"testGt_L1GtTrigReport"}
    

}